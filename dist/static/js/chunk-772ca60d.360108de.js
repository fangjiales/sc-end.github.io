(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-772ca60d"],{"4aff":function(e,t,a){},"54da":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label"},[a("div",{staticClass:"label-operator"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.addLabel}},[e._v("添加标签")])],1),a("div",{staticClass:"label-list"},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"18px"},attrs:{data:e.labelList}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100px"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),a("el-table-column",{attrs:{prop:"color",label:"颜色",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{style:{float:"left",width:"100px",height:"30px",lineHeight:"30px"}},[e._v(" "+e._s(t.row.color)+" ")]),a("div",{style:{backgroundColor:t.row.color,width:"100px",height:"30px",float:"left"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.editLabel(t.row.id)}}},[e._v("修改标签")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.removeLabel(t.row.id)}}},[e._v("删除标签")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.labelTotal},on:{"size-change":e.sizeChangeHandle,"current-change":e.pageChangeHandle,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}})],1),a("el-dialog",{attrs:{title:e.labelDialogTitle,visible:e.showLabelDialog,width:"40%"},on:{"update:visible":function(t){e.showLabelDialog=t}}},[a("el-form",{attrs:{model:e.currentLabel,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"id",label:"序号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.currentLabel.id,callback:function(t){e.$set(e.currentLabel,"id",t)},expression:"currentLabel.id"}})],1),a("el-form-item",{attrs:{prop:"name",label:"名称",rules:[{required:!0,trigger:"blur",message:"name is requried"},{max:10,trigger:"blur",message:"name max length is 10"}]}},[a("el-input",{model:{value:e.currentLabel.name,callback:function(t){e.$set(e.currentLabel,"name",t)},expression:"currentLabel.name"}})],1),a("el-form-item",{attrs:{prop:"color",label:"颜色"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-color-picker",{attrs:{"color-format":"hex"},model:{value:e.currentLabel.color,callback:function(t){e.$set(e.currentLabel,"color",t)},expression:"currentLabel.color"}})],1),a("el-col",{attrs:{span:21}},[a("div",{style:{width:"100px",height:"40px",backgroundColor:e.currentLabel.color}})])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.showLabelDialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveOrUpdateLabel}},[e._v("确认")])],1)],1)],1)},s=[],i=a("5c96"),r=function(){return{id:"",name:"",color:"#008cc8"}},n={name:"Label",data:function(){return{showLabelDialog:!1,labelDialogTitle:"title",labelList:[],labelTotal:0,currentLabel:r(),page:1,size:5}},methods:{saveOrUpdateLabel:function(){var e=this;this.currentLabel.id?this.$store.dispatch("label/updateLabel",this.currentLabel).then((function(t){Object(i["Message"])({type:"success",message:"修改标签成功",duration:1e3}),e.showLabelDialog=!1,e.retrieveLabelList()})).catch((function(e){Object(i["Message"])({type:"error",message:"修改标签失败",duration:1e3})})):this.$store.dispatch("label/saveLabel",this.currentLabel).then((function(t){Object(i["Message"])({type:"success",message:"添加标签成功",duration:1e3}),e.showLabelDialog=!1,e.retrieveLabelList()})).catch((function(e){Object(i["Message"])({type:"error",message:"添加标签失败",duration:1e3})}))},removeLabel:function(e){var t=this;i["MessageBox"].confirm("提示",{cancelButtonText:"取消",confirmButtonText:"确认",type:"info",message:"您确认要删除此标签吗?"}).then((function(){t.$store.dispatch("label/removeLabel",e).then((function(e){t.page=1,Object(i["Message"])({type:"success",message:"删除标签成功",duration:1e3}),t.retrieveLabelList()})).catch((function(e){Object(i["Message"])({type:"error",message:"删除标签失败",duration:1e3})}))}))},addLabel:function(){this.showLabelDialog=!0,this.labelDialogTitle="添加标签",this.currentLabel=r()},editLabel:function(e){var t=this;this.$store.dispatch("label/getById",e).then((function(e){Object.assign(t.currentLabel,e.data),t.showLabelDialog=!0,t.labelDialogTitle="修改标签"})).catch((function(e){Object(i["Message"])({type:"error",message:e.message,duration:1e3})}))},retrieveLabelList:function(){var e=this;this.$store.dispatch("label/getLabelList",{page:this.page,size:this.size}).then((function(t){e.labelList=t.data.records,e.labelTotal=t.data.total,e.page=t.data.current,e.size=t.data.size,Object(i["Message"])({type:"success",message:"retrieve label list success",duration:1e3})})).catch((function(e){Object(i["Message"])({type:"error",message:"retrieve label list fail",duration:1e3})}))},sizeChangeHandle:function(e){this.size=e,this.retrieveLabelList()},pageChangeHandle:function(e){this.page=e,this.retrieveLabelList()}},mounted:function(){this.retrieveLabelList()}},o=n,c=(a("de8d"),a("2877")),u=Object(c["a"])(o,l,s,!1,null,"26434424",null);t["default"]=u.exports},de8d:function(e,t,a){"use strict";a("4aff")}}]);